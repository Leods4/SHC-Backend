Backend do Sistema de Horas Complementares (SHC)API RESTful desenvolvida em Laravel 12 com PostgreSQL para o gerenciamento de atividades complementares de alunos.Visão GeralEsta API serve como backend para uma aplicação frontend (ex: React, Vue), oferecendo um sistema robusto para gerenciar usuários (com diferentes papéis), cursos, e a submissão e avaliação de certificados de horas complementares.Tecnologias UtilizadasFramework: Laravel 12Banco de Dados: PostgreSQLAutenticação: Laravel Sanctum (API Tokens)Linguagem: PHP 8.2+Funcionalidades PrincipaisAutenticação e Autorização: Sistema completo de registro, login, logout e refresh de token. As permissões são baseadas em papéis (Aluno, Coordenador, Secretaria, Administrador).Gerenciamento de Usuários: CRUD completo para usuários.Gerenciamento de Cursos: CRUD completo para cursos.Gerenciamento de Certificados:Upload de arquivos (PDF) para submissão de certificados.Fluxo de avaliação (Entregue -> Aprovado/Reprovado).Validação de carga horária.Histórico de Alterações: Rastreamento automático de todas as criações e alterações em usuários e certificados.Cálculo de Progresso: Endpoint para calcular o total de horas validadas de um aluno e comparar com as horas necessárias do seu curso.Como Executar o Projeto LocalmentePré-requisitos: PHP 8.2+, Composer, PostgreSQL.Clonar o repositório:git clone [https://github.com/Leods4/SHC-Backend.git](https://github.com/Leods4/SHC-Backend.git)
cd SHC-Backend
Instalar dependências:composer install
Configurar o ambiente:Copie o arquivo de exemplo: cp .env.example .envAbra o arquivo .env e configure as variáveis do banco de dados (DB_HOST, DB_PORT, DB_DATABASE, DB_USERNAME, DB_PASSWORD).Gerar a chave da aplicação:php artisan key:generate
Executar as migrações do banco de dados:php artisan migrate
Iniciar o servidor local:php artisan serve
A API estará disponível em http://localhost:8000.Estrutura da API (Endpoints)Rotas PúblicasMétodoEndpointDescriçãoPOST/api/auth/registerRegistra um novo usuário.POST/api/auth/loginAutentica um usuário e retorna um token.Rotas Protegidas (Exigem Bearer Token)MétodoEndpointDescriçãoPapéis Autorizados (Exemplo)POST/api/auth/logoutFaz logout do usuário (revoga o token).Todos autenticadosPOST/api/auth/refreshGera um novo token de acesso.Todos autenticadosGET/api/usuariosLista todos os usuários.Admin, SecretariaPOST/api/usuariosCria um novo usuário.Admin, SecretariaGET/api/usuarios/{id}Exibe um usuário específico.Dono, Admin, Coord, SecPUT/api/usuarios/{id}Atualiza um usuário.Dono, Admin, SecretariaDELETE/api/usuarios/{id}Deleta um usuário.AdminGET/api/usuarios/{id}/progressoMostra o progresso de horas do usuário.Dono, Admin, Coord, SecGET/api/usuarios/{id}/historicoMostra o histórico de alterações do usuário.Admin, Coord, SecGET/api/cursosLista todos os cursos.Todos autenticadosPOST/api/cursosCria um novo curso.Admin, SecretariaGET/api/cursos/{id}Exibe um curso específico.Todos autenticadosPUT/api/cursos/{id}Atualiza um curso.Admin, Coord, SecDELETE/api/cursos/{id}Deleta um curso.AdminGET/api/certificadosLista certificados (Aluno só vê os seus).Todos autenticadosPOST/api/certificadosSubmete um novo certificado (com upload).AlunoGET/api/certificados/{id}Exibe um certificado específico.Dono, Admin, Coord, SecPUT/api/certificados/{id}Atualiza um certificado (se ainda não avaliado).Dono (se 'ENTREGUE')DELETE/api/certificados/{id}Deleta um certificado (se ainda não avaliado).Dono (se 'ENTREGUE'), AdminPATCH/api/certificados/{id}/avaliarAvalia (aprova/reprova) um certificado.Admin, Coord, SecGET/api/certificados/{id}/historicoMostra o histórico de alterações do certificado.Dono, Admin, Coord, SecTestesPara executar a suíte de testes automatizados, rode o seguinte comando:php artisan test
